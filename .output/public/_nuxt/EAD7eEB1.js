import{d as k,u as A,o as N,M as S,z as u,A as e,O as C,P,Q as M,R as f,S as g,L as o,T as b,U as h,B as m,V as B,i as c,y as p,W as L}from"./CvPgl9uc.js";import{u as T}from"./D-FryafY.js";const V={class:"min-h-screen bg-background flex flex-col items-center justify-center p-8"},q={class:"text-center max-w-md w-full"},z={class:"mb-6"},D={class:"grid grid-cols-2 gap-3"},E=["onClick","aria-pressed"],I={class:"flex items-center gap-2"},R={class:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-medium"},U={class:"font-medium text-sm"},W={class:"text-xs text-muted-foreground"},j=["readonly"],F={key:0,role:"alert",class:"text-red-500 text-sm"},G=["disabled"],O={class:"text-sm text-muted-foreground mt-4"},Q={key:0},$={key:1},Y=k({__name:"login",setup(H){const x=A(),y=T();N(()=>{S("auth_token").value&&x.push("/dashboard")});const i=c(""),l=c("demo123"),r=c(""),d=c(!1),a=c(null),v=[{email:"nina@demo.de",name:"Nina Neuanfang",location:"Nürnberg",initial:"N"},{email:"maxine@demo.de",name:"Maxine Snackliebhaber",location:"Berlin",initial:"M"},{email:"lucas@demo.de",name:"Lucas Gesundheitsfan",location:"Nürnberg",initial:"L"},{email:"alex@demo.de",name:"Alex Gelegenheitskäufer",location:"Berlin",initial:"A"},{email:"tom@demo.de",name:"Tom Schnellkäufer",location:"Nürnberg",initial:"T"},{email:"admin@demo.de",name:"Admin",location:"Nürnberg",initial:"A",isAdmin:!0}],_=n=>{a.value=n,i.value=n,l.value=n==="admin@demo.de"?"admin123":"demo123",L(()=>{document.querySelector('input[type="password"]')?.focus()})},w=async()=>{r.value="",d.value=!0;try{const n=await y.login({email:i.value,password:l.value});d.value=!1,n.success?setTimeout(()=>{window.location.href="/dashboard"},500):r.value=n.error||"Anmeldung fehlgeschlagen"}catch{d.value=!1,r.value="Ein Fehler ist aufgetreten"}};return(n,t)=>(p(),u("div",V,[e("div",q,[t[3]||(t[3]=e("h1",{class:"text-4xl font-bold text-primary mb-2"},"SnackEase",-1)),t[4]||(t[4]=e("p",{class:"text-muted-foreground mb-8"},"Willkommen zurück!",-1)),e("div",z,[t[2]||(t[2]=e("p",{class:"text-sm font-medium mb-3"},"Wähle dein Profil:",-1)),e("div",D,[(p(),u(C,null,P(v,s=>e("button",{key:s.email,onClick:J=>_(s.email),"aria-pressed":o(a)===s.email,class:b(["p-3 rounded-lg border transition-all text-left",o(a)===s.email?"border-primary bg-primary/10 ring-2 ring-primary":"border-input hover:border-primary/50 bg-card"])},[e("div",I,[e("div",R,m(s.initial),1),e("div",null,[e("div",U,m(s.name),1),e("div",W,m(s.location),1)])])],10,E)),64))])]),e("form",{onSubmit:M(w,["prevent"]),class:"space-y-4"},[e("div",null,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>h(i)?i.value=s:null),type:"email",placeholder:"Email",required:"","aria-label":"E-Mail-Adresse",readonly:!!o(a),class:b(["w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",{"bg-muted":!!o(a)}])},null,10,j),[[g,o(i)]])]),e("div",null,[f(e("input",{ref:"passwordInput","onUpdate:modelValue":t[1]||(t[1]=s=>h(l)?l.value=s:null),type:"password",placeholder:"Passwort",required:"","aria-label":"Passwort",class:"w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[g,o(l)]])]),o(r)?(p(),u("p",F,m(o(r)),1)):B("",!0),e("button",{type:"submit",disabled:o(d),class:"w-full py-3 px-6 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50"},m(o(d)?"Anmeldung...":"Anmelden"),9,G)],32),e("p",O,[o(a)==="admin@demo.de"?(p(),u("span",Q,"Admin-Passwort: admin123")):(p(),u("span",$,"Demo-Passwort: demo123"))])])]))}});export{Y as default};
